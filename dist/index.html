<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
  <link href='css/typography.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/reset.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/reset.css' media='print' rel='stylesheet' type='text/css'/>
  <link href='css/print.css' media='print' rel='stylesheet' type='text/css'/>

  <script src='lib/object-assign-pollyfill.js' type='text/javascript'></script>
  <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
  <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
  <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
  <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
  <script src='lib/handlebars-2.0.0.js' type='text/javascript'></script>
  <script src='lib/lodash.min.js' type='text/javascript'></script>
  <script src='lib/backbone-min.js' type='text/javascript'></script>
  <script src='swagger-ui.js' type='text/javascript'></script>
  <script src='lib/highlight.9.1.0.pack.js' type='text/javascript'></script>
  <script src='lib/highlight.9.1.0.pack_extended.js' type='text/javascript'></script>
  <script src='lib/jsoneditor.min.js' type='text/javascript'></script>
  <script src='lib/marked.js' type='text/javascript'></script>
  <script src='lib/swagger-oauth.js' type='text/javascript'></script>

  <!-- Some basic translations -->
  <!-- <script src='lang/translator.js' type='text/javascript'></script> -->
  <!-- <script src='lang/ru.js' type='text/javascript'></script> -->
  <!-- <script src='lang/en.js' type='text/javascript'></script> -->

  <script type="text/javascript">
    $(function () {
      var url = window.location.search.match(/url=([^&]+)/);
      if (url && url.length > 1) {
        url = decodeURIComponent(url[1]);
      } else {
        //url = "http://petstore.swagger.io/v2/swagger.json";
          url = window.location.origin + "/forge-datamanagement.yaml";
      }

      hljs.configure({
        highlightSizeThreshold: 5000
      });

      // Pre load translate...
      if(window.SwaggerTranslator) {
        window.SwaggerTranslator.translate();
      }
      window.swaggerUi = new SwaggerUi({
        url: url,
        dom_id: "swagger-ui-container",
        supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch', 'head'],
          // Add your callback url if needed, otherwise the system will build the callback automatically for you
          // with:
          // pathname = location.pathname.substring(0, location.pathname.lastIndexOf("/"));
          // window.location.protocol + '//' + window.location.host + pathname + '/o2c.html'
          //oauth2RedirectUrl: 'http://local.autodesk.io:3006/o2c.html',
          oauth2RedirectUrl: 'https://yaml.autodesk.io/o2c.html',

        onComplete: function(swaggerApi, swaggerUi){
          if(typeof initOAuth == "function") {
            initOAuth({
              //clientId: "your-client-id",
              //clientSecret: "your-client-secret-if-required",
              //realm: "your-realms",
              //appName: "your-app-name",
              scopeSeparator: " ", // used to be ","
              additionalQueryStringParams: {}
            });
          }

          if(window.SwaggerTranslator) {
            window.SwaggerTranslator.translate();
          }
        },
        onFailure: function(data) {
          log("Unable to Load SwaggerUI");
        },
        docExpansion: "none",
        jsonEditor: false,
        defaultModelRendering: 'schema',
        showRequestHeaders: false
      });

      window.swaggerUi.load();

      function log() {
        if ('console' in window) {
          console.log.apply(console, arguments);
        }
      }
  });
  </script>
</head>

<body class="swagger-section">
<div id='header'>
  <div class="swagger-ui-wrap">
    <a id="logo" href="http://swagger.io"><img class="logo__img" alt="swagger" height="30" width="30" src="images/logo_small.png" /><span class="logo__title">swagger</span></a>
    <form id='api_selector'>
      <div class='input'>
          <!-- input placeholder="http://example.com/api" id="input_baseUrl" name="baseUrl" type="text"/ -->
          <select id="input_baseUrl" name="baseUrl">
              <option>forge-datamanagement.yaml</option>
              <option>forge-oss.yaml</option>
              <option>forge-modelderivative.yaml</option>
              <option>forge-oauth2.yaml</option>
          </select>
      </div>
      <div class='input'><a id="explore" class="header__btn" href="#" data-sw-translate>Explore</a></div>
        <div id='auth_container'></div>
    </form>
  </div>
</div>

<style>
    .app-api-section {
        margin-right: -15px;
        margin-left: -15px;
        font-family: "Open Sans", Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.42857143em;
        color: #666;
    }
    .noshow {
        display: none;
    }
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<div class="app-api-section swagger-ui-wrap">

    <div class="app-api-section-heading">
        <h2 class="app-api-section-title first-child">How to use this site?</h2>
    </div>

    <div id="usage">
        <p>This site contains the documentation of the Forge API out of the yaml definition and should somehow be
            identical to the official documentation on <a href="http://developer.autodesk.com/" target="FORGE">http://developer.autodesk.com/</a>.</p>
        <p>Like with <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en" target="POSTMAN">POSTMAN</a>,
            you can try the API online on this site. For doing this please follow the instructions below.</p>
        <p>How authorize on this site:
        <ol>
            <li>First register an application key on <a href="http://developer.autodesk.com/">http://developer.autodesk.com/</a>,
                and set the callback to: <b>https://yaml.autodesk.io/o2c.html</b>
            </li>
            <li>Go to https://yaml.autodesk.io/</li>
            <li>Click on the ‘Authorize’ button</li>
            <li>There is 2 sections: <i>flow: accessCode</i> and <i>flow: application</i>
                <ul>
                    <li>accessCode is for 3-legged</li>
                    <li>application is for 2-legged</li>
                </ul>
                Note: You need to scroll to see the whole dialog</li>
            <li>Pick <i>scopes</i> in the section you want to authorize for</li>
            <li>Enter your client_id and client_secret</li>
            <li>Click the ‘Authorize’ button of the section you want</li>
            <li>Select the API, you want to read/try and press the 'Explore’ button</li>
        </ol>
    </div>
    <div><button id="usage-control" type="button" class="btn btn-info">Hide Description &amp; Information</button></div>
    <script>
        $(document).ready (function () {
            $('#usage-control').click (function (evt) {
                evt.stopPropagation () ;
                var hidden =!($('#usage').hasClass ('noshow')) ;
                $('#usage').toggleClass ('noshow') ;
                $('#usage-control').text ((hidden ? 'Show' : 'Hide') + ' Description & Information') ;
                $.cookie('usage', hidden ? 'hidden' : 'visible', { expires: 365 }) ;
            }) ;
            var hidden =$.cookie("usage") ;
            if ( hidden ) {
                $('#usage').addClass ('noshow') ;
                $('#usage-control').text ('Show Description & Information') ;
            }
        }) ;
    </script>
</div>

<div id="message-bar" class="swagger-ui-wrap" data-sw-translate>&nbsp;</div>
<div id="swagger-ui-container" class="swagger-ui-wrap"></div>
</body>
</html>
